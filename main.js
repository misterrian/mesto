(()=>{"use strict";var e={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__submit-button",inputErrorClass:"popup__input_type_error"};function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var n=function(){function e(t,n,r,o,i,a){var u=n._id,c=n.name,s=n.link,l=n.owner,f=n.likes;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._ownId=t,this._id=u,this._name=c,this._link=s,this._ownerId=l._id,this._likes=f,this._cardSelector=r,this._handleCardClick=o,this._handleRemoveButtonClick=i,this._handleLikeButtonClick=a}var n,r;return n=e,(r=[{key:"generateCard",value:function(){this._element=this._getTemplate(),this._setEventListeners(),this._element.querySelector(".element__title").textContent=this._name;var e=this._element.querySelector(".element__picture");return e.alt=this._name,e.src=this._link,this._ownId===this._ownerId&&this._element.querySelector(".element__remove").classList.remove("element__remove_hidden"),this._renderLikes(),this._element}},{key:"getCardId",value:function(){return this._id}},{key:"removeCard",value:function(){this._element.remove()}},{key:"isLiked",value:function(){var e=this;return this._likes.find((function(t){return t._id===e._ownId}))}},{key:"updateLikes",value:function(e){var t=e.likes;this._likes=t,this._renderLikes()}},{key:"_getTemplate",value:function(){return document.querySelector(this._cardSelector).content.querySelector(".element").cloneNode(!0)}},{key:"_setEventListeners",value:function(){this._element.querySelector(".element__picture").addEventListener("click",this._handleCardClick),this._element.querySelector(".element__remove").addEventListener("click",this._handleRemoveButtonClick),this._element.querySelector(".element__like").addEventListener("click",this._handleLikeButtonClick)}},{key:"_renderLikes",value:function(){var e=this._element.querySelector(".element__like");this.isLiked()?e.classList.add("element__like_active"):e.classList.remove("element__like_active"),this._element.querySelector(".element__like-counter").textContent=this._likes.length}}])&&t(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),e}();function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function e(t){var n,r,o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r=function(e){"Escape"===e.key&&o.close()},(n="_handleEscClose")in this?Object.defineProperty(this,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):this[n]=r,this._popup=document.querySelector(t)}var t,n;return t=e,(n=[{key:"open",value:function(){document.addEventListener("keydown",this._handleEscClose),this._popup.classList.add("popup_opened")}},{key:"close",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"setEventListeners",value:function(){var e=this;this._popup.addEventListener("click",(function(t){return e._handlePopupClick(t)}))}},{key:"_handlePopupClick",value:function(e){var t=e.target.classList;(t.contains("popup")||t.contains("popup__close-icon"))&&this.close()}}])&&r(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(){return u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=c(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},u.apply(this,arguments)}function c(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=f(e)););return e}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function l(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}var p=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(p,t);var n,r,o,i,c=(o=p,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=f(o);if(i){var n=f(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return l(this,e)});function p(t,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),(r=c.call(this,t))._submitCallback=n,r._form=r._popup.querySelector(e.formSelector),r._inputFields=Array.from(r._form.querySelectorAll(e.inputSelector)),r}return n=p,(r=[{key:"close",value:function(){u(f(p.prototype),"close",this).call(this),this._form.reset()}},{key:"setEventListeners",value:function(){var e=this;this._form.addEventListener("submit",(function(t){t.preventDefault(),e._submitCallback(e._getInputValues()),e.close()})),u(f(p.prototype),"setEventListeners",this).call(this)}},{key:"setInputValues",value:function(e){this._inputFields.forEach((function(t){var n=e[t.name];n&&(t.value=n)}))}},{key:"getForm",value:function(){return this._form}},{key:"_getInputValues",value:function(){var e={};return this._inputFields.forEach((function(t){return e[t.name]=t.value})),e}}])&&a(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),p}(o);function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(){return d="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=v(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},d.apply(this,arguments)}function v(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=m(e)););return e}function _(e,t){return _=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},_(e,t)}function b(e,t){if(t&&("object"===h(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}var k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=m(r);if(o){var n=m(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return b(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e))._photo=t._popup.querySelector(".popup__photo"),t._name=t._popup.querySelector(".popup__name-preview"),t}return t=a,(n=[{key:"open",value:function(e){var t=e.name,n=e.link;this._photo.src=n,this._photo.alt=t,this._name.textContent=t,d(m(a.prototype),"open",this).call(this)}}])&&y(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(o);function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var g=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderer=t,this._container=document.querySelector(n)}var t,n;return t=e,(n=[{key:"renderItems",value:function(e){e.forEach(this._renderer)}},{key:"addItem",value:function(e,t){t?this._container.prepend(e):this._container.append(e)}}])&&w(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var O=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._id=0,this._name=document.querySelector(t),this._about=document.querySelector(n),this._avatar=document.querySelector(r)}var t,n;return t=e,(n=[{key:"getOwnId",value:function(){return this._id}},{key:"getUserInfo",value:function(){return{name:this._name.textContent,about:this._about.textContent}}},{key:"setUserInfo",value:function(e){var t=e._id,n=e.name,r=e.about;this._id=t,this._name.textContent=n,this._about.textContent=r}},{key:"getAvatar",value:function(){return this._avatar.src}},{key:"setAvatar",value:function(e){this._avatar.src=e}}])&&S(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var C=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._validatorSettings=t,this._form=n,this._inputFields=Array.from(this._form.querySelectorAll(this._validatorSettings.inputSelector)),this._submitButton=this._form.querySelector(this._validatorSettings.submitButtonSelector)}var t,n;return t=e,(n=[{key:"enableValidation",value:function(){this._setEventListeners()}},{key:"initValidationState",value:function(){var e=this;this._inputFields.forEach((function(t){return e._hideInputError(t)})),this._toggleSubmitButtonState()}},{key:"_setEventListeners",value:function(){var e=this;this._toggleSubmitButtonState(),this._inputFields.forEach((function(t){t.addEventListener("input",(function(){e._checkInputValidity(t),e._toggleSubmitButtonState()}))}))}},{key:"_toggleSubmitButtonState",value:function(){this._areAllInputsValid()?(this._submitButton.removeAttribute("disabled"),this._submitButton.classList.remove("popup__submit-button_disabled")):(this._submitButton.setAttribute("disabled",""),this._submitButton.classList.add("popup__submit-button_disabled"))}},{key:"_areAllInputsValid",value:function(){return this._inputFields.every((function(e){return e.validity.valid}))}},{key:"_checkInputValidity",value:function(e){e.validity.valid?this._hideInputError(e):this._showInputError(e,e.validationMessage)}},{key:"_showInputError",value:function(e,t){var n=this._form.querySelector(".".concat(e.id,"-error"));e.classList.add(this._validatorSettings.inputErrorClass),n.textContent=t}},{key:"_hideInputError",value:function(e){var t=this._form.querySelector(".".concat(e.id,"-error"));e.classList.remove(this._validatorSettings.inputErrorClass),t.textContent=""}}])&&E(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function j(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status,", ").concat(e.statusText))}function L(e){console.log(e)}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var I=function(){function e(t){var n=t.userUrl,r=t.baseUrl,o=t.headers;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._userUrl=n,this._baseUrl=r,this._headers=o}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return fetch("".concat(this._userUrl),{headers:this._headers}).then(j)}},{key:"getInitialCards",value:function(){return fetch("".concat(this._baseUrl,"/cards"),{headers:this._headers}).then(j)}},{key:"saveAvatar",value:function(e){return fetch("".concat(this._baseUrl,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify(e)}).then(j)}},{key:"saveProfile",value:function(e){return fetch("".concat(this._baseUrl,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify(e)}).then(j)}},{key:"addCard",value:function(e){return fetch("".concat(this._baseUrl,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify(e)}).then(j)}},{key:"removeCard",value:function(e){return fetch("".concat(this._baseUrl,"/cards/").concat(e),{method:"DELETE",headers:this._headers}).then(j)}},{key:"addLike",value:function(e){return fetch("".concat(this._baseUrl,"/cards/").concat(e,"/likes"),{method:"PUT",headers:this._headers}).then(j)}},{key:"removeLike",value:function(e){return fetch("".concat(this._baseUrl,"/cards/").concat(e,"/likes"),{method:"DELETE",headers:this._headers}).then(j)}}])&&P(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function R(e){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R(e)}function q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function U(){return U="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=B(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},U.apply(this,arguments)}function B(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=V(e)););return e}function x(e,t){return x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},x(e,t)}function A(e,t){if(t&&("object"===R(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function V(e){return V=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},V(e)}var F=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=V(r);if(o){var n=V(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return A(this,e)});function a(){return q(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"setEventListeners",value:function(){var e=this;this._popup.querySelector(".popup__submit-button").addEventListener("click",(function(){e._submitCallback(),e.close()})),U(V(a.prototype),"setEventListeners",this).call(this)}},{key:"open",value:function(e){this._submitCallback=e,U(V(a.prototype),"open",this).call(this)}}])&&T(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(o),D=new O(".profile-info__title",".profile-info__subtitle",".profile__avatar-photo"),N=new p("#avatar-popup",(function(e){var t=Z(N.getForm());X.saveAvatar(e).then((function(e){return D.setAvatar(e.avatar)})).catch(L).finally(t)}));N.setEventListeners();var J=new C(e,N.getForm());J.enableValidation(),document.querySelector(".profile__avatar-button").addEventListener("click",(function(){N.setInputValues({avatar:D.getAvatar()}),J.initValidationState(),N.open()}));var H=new p("#profile-popup",(function(e){var t=Z(H.getForm());X.saveProfile(e).then((function(e){return D.setUserInfo(e)})).catch(L).finally(t)}));H.setEventListeners();var z=new C(e,H.getForm());z.enableValidation(),document.querySelector(".profile-info__edit-button").addEventListener("click",(function(){H.setInputValues(D.getUserInfo()),z.initValidationState(),H.open()}));var M=new p("#new-place-popup",(function(e){var t=Z(M.getForm());X.addCard(e).then((function(e){return W.addItem(Y(e),!0)})).catch(L).finally(t)}));M.setEventListeners();var G=new C(e,M.getForm());G.enableValidation(),document.querySelector(".profile__add-button").addEventListener("click",(function(){G.initValidationState(),M.open()}));var K=new F("#remove-card-popup");K.setEventListeners();var Q=new k("#preview-popup");Q.setEventListeners();var W=new g((function(e){return W.addItem(Y(e),!1)}),".elements"),X=new I({userUrl:"https://nomoreparties.co/v1/cohort-41/users/me",baseUrl:"https://mesto.nomoreparties.co/v1/cohort-41",headers:{authorization:"9d97c63b-334e-41b1-ad1d-f8e460dd9ec6","Content-Type":"application/json"}});function Y(e){var t=new n(D.getOwnId(),e,"#element-template",(function(){return Q.open(e)}),(function(){return K.open((function(){X.removeCard(t.getCardId()).then((function(){return t.removeCard()})).catch(L)}))}),(function(){(t.isLiked()?X.removeLike(t.getCardId()):X.addLike(t.getCardId())).then((function(e){return t.updateLikes(e)})).catch(L)}));return t.generateCard()}function Z(e){var t=e.querySelector(".popup__submit-button"),n=t.textContent;return t.textContent="Сохранение...",function(){return t.textContent=n}}X.getUserInfo().then((function(e){D.setAvatar(e.avatar),D.setUserInfo(e)})).catch(L),X.getInitialCards().then((function(e){return W.renderItems(e)})).catch(L)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QWdCLHNCQWV4QixTQUFTSixFQUFTOUIsR0FDZCxJQUFNbUMsRUFBTyxJQUFJNUssRUFDYjRJLEVBQVNpQyxXQUNUcEMsRUFDQSxxQkFDQSxrQkFBTWlDLEVBQWFiLEtBQUtwQixNQUN4QixrQkFBTWdDLEVBQVlaLE1BQUssV0FDbkJaLEVBQUk2QixXQUFXRixFQUFLRyxhQUNmN0MsTUFBSyxrQkFBTTBDLEVBQUtFLGdCQUNoQnpCLE1BQU0vQixTQUVmLFlBQ3dCc0QsRUFBS3JJLFVBQ25CMEcsRUFBSStCLFdBQVdKLEVBQUtHLGFBQ3BCOUIsRUFBSWdDLFFBQVFMLEVBQUtHLGNBR2xCN0MsTUFBSyxTQUFBaUIsR0FBRyxPQUFJeUIsRUFBS00sWUFBWS9CLE1BQzdCRSxNQUFNL0IsTUFHbkIsT0FBT3NELEVBQUtPLGVBR2hCLFNBQVNwQyxFQUF5QnBELEdBQzlCLElBQU15RixFQUFlekYsRUFBS25FLGNBQWMseUJBQ2xDNkosRUFBa0JELEVBQWEzSixZQUVyQyxPQURBMkosRUFBYTNKLFlBQWMsZ0JBQ3BCLGtCQUFNMkosRUFBYTNKLFlBQWM0SixHQXZDNUNwQyxFQUFJaUIsY0FDQ2hDLE1BQUssU0FBQWlCLEdBQ0ZQLEVBQVNRLFVBQVVELEVBQUkzRCxRQUN2Qm9ELEVBQVNvQixZQUFZYixNQUV4QkUsTUFBTS9CLEdBRVgyQixFQUFJcUMsa0JBQ0NwRCxNQUFLLFNBQUFuQixHQUFNLE9BQUlzRCxFQUFRa0IsWUFBWXhFLE1BQ25Dc0MsTUFBTS9CLEkiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9zY3JpcHRzL3V0aWxzL9GBb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvc2NyaXB0cy91dGlscy9Qcm9taXNlVXRpbHMuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvUG9wdXBXaXRoU3VibWl0LmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3BhZ2VzL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGV4cG9ydCBjb25zdCBpbml0aWFsQ2FyZHMgPSBbXG4vLyAgICAge1xuLy8gICAgICAgICBuYW1lOiAn0JDRgNGF0YvQtycsXG4vLyAgICAgICAgIGxpbms6ICdodHRwczovL3BpY3R1cmVzLnMzLnlhbmRleC5uZXQvZnJvbnRlbmQtZGV2ZWxvcGVyL2NhcmRzLWNvbXByZXNzZWQvYXJraHl6LmpwZydcbi8vICAgICB9LFxuLy8gICAgIHtcbi8vICAgICAgICAgbmFtZTogJ9Cn0LXQu9GP0LHQuNC90YHQutCw0Y8g0L7QsdC70LDRgdGC0YwnLFxuLy8gICAgICAgICBsaW5rOiAnaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2NoZWx5YWJpbnNrLW9ibGFzdC5qcGcnXG4vLyAgICAgfSxcbi8vICAgICB7XG4vLyAgICAgICAgIG5hbWU6ICfQmNCy0LDQvdC+0LLQvicsXG4vLyAgICAgICAgIGxpbms6ICdodHRwczovL3BpY3R1cmVzLnMzLnlhbmRleC5uZXQvZnJvbnRlbmQtZGV2ZWxvcGVyL2NhcmRzLWNvbXByZXNzZWQvaXZhbm92by5qcGcnXG4vLyAgICAgfSxcbi8vICAgICB7XG4vLyAgICAgICAgIG5hbWU6ICfQmtCw0LzRh9Cw0YLQutCwJyxcbi8vICAgICAgICAgbGluazogJ2h0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9rYW1jaGF0a2EuanBnJ1xuLy8gICAgIH0sXG4vLyAgICAge1xuLy8gICAgICAgICBuYW1lOiAn0KXQvtC70LzQvtCz0L7RgNGB0LrQuNC5INGA0LDQudC+0L0nLFxuLy8gICAgICAgICBsaW5rOiAnaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2tob2xtb2dvcnNreS1yYXlvbi5qcGcnXG4vLyAgICAgfSxcbi8vICAgICB7XG4vLyAgICAgICAgIG5hbWU6ICfQkdCw0LnQutCw0LsnLFxuLy8gICAgICAgICBsaW5rOiAnaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2JhaWthbC5qcGcnXG4vLyAgICAgfVxuLy8gXTtcblxuZXhwb3J0IGNvbnN0IGZvcm1TZWxlY3RvcnMgPSB7XG4gICAgZm9ybVNlbGVjdG9yOiAnLnBvcHVwX19mb3JtJyxcbiAgICBpbnB1dFNlbGVjdG9yOiAnLnBvcHVwX19pbnB1dCcsXG4gICAgc3VibWl0QnV0dG9uU2VsZWN0b3I6ICcucG9wdXBfX3N1Ym1pdC1idXR0b24nLFxuICAgIGlucHV0RXJyb3JDbGFzczogJ3BvcHVwX19pbnB1dF90eXBlX2Vycm9yJ1xufTtcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBvd25JZCxcbiAgICAgICAge19pZCwgbmFtZSwgbGluaywgb3duZXIsIGxpa2VzfSxcbiAgICAgICAgY2FyZFNlbGVjdG9yLFxuICAgICAgICBoYW5kbGVDYXJkQ2xpY2ssXG4gICAgICAgIGhhbmRsZVJlbW92ZUJ1dHRvbkNsaWNrLFxuICAgICAgICBoYW5kbGVMaWtlQnV0dG9uQ2xpY2ssXG4gICAgKSB7XG4gICAgICAgIHRoaXMuX293bklkID0gb3duSWQ7XG4gICAgICAgIHRoaXMuX2lkID0gX2lkO1xuICAgICAgICB0aGlzLl9uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5fbGluayA9IGxpbms7XG4gICAgICAgIHRoaXMuX293bmVySWQgPSBvd25lci5faWQ7XG4gICAgICAgIHRoaXMuX2xpa2VzID0gbGlrZXM7XG4gICAgICAgIHRoaXMuX2NhcmRTZWxlY3RvciA9IGNhcmRTZWxlY3RvcjtcbiAgICAgICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrID0gaGFuZGxlQ2FyZENsaWNrO1xuICAgICAgICB0aGlzLl9oYW5kbGVSZW1vdmVCdXR0b25DbGljayA9IGhhbmRsZVJlbW92ZUJ1dHRvbkNsaWNrO1xuICAgICAgICB0aGlzLl9oYW5kbGVMaWtlQnV0dG9uQ2xpY2sgPSBoYW5kbGVMaWtlQnV0dG9uQ2xpY2s7XG4gICAgfVxuXG4gICAgZ2VuZXJhdGVDYXJkKCkge1xuICAgICAgICB0aGlzLl9lbGVtZW50ID0gdGhpcy5fZ2V0VGVtcGxhdGUoKTtcbiAgICAgICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuICAgICAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X190aXRsZScpLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcblxuICAgICAgICBjb25zdCBwaWN0dXJlID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9fcGljdHVyZScpO1xuICAgICAgICBwaWN0dXJlLmFsdCA9IHRoaXMuX25hbWU7XG4gICAgICAgIHBpY3R1cmUuc3JjID0gdGhpcy5fbGluaztcblxuICAgICAgICBpZiAodGhpcy5fb3duSWQgPT09IHRoaXMuX293bmVySWQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRyYXNoQnV0dG9uID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9fcmVtb3ZlJyk7XG4gICAgICAgICAgICB0cmFzaEJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdlbGVtZW50X19yZW1vdmVfaGlkZGVuJyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9yZW5kZXJMaWtlcygpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLl9lbGVtZW50O1xuICAgIH1cblxuICAgIGdldENhcmRJZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lkO1xuICAgIH1cblxuICAgIHJlbW92ZUNhcmQoKSB7XG4gICAgICAgIHRoaXMuX2VsZW1lbnQucmVtb3ZlKCk7XG4gICAgfVxuXG4gICAgaXNMaWtlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xpa2VzLmZpbmQobGlrZSA9PiBsaWtlLl9pZCA9PT0gdGhpcy5fb3duSWQpO1xuICAgIH1cblxuICAgIHVwZGF0ZUxpa2VzKHtsaWtlc30pIHtcbiAgICAgICAgdGhpcy5fbGlrZXMgPSBsaWtlcztcbiAgICAgICAgdGhpcy5fcmVuZGVyTGlrZXMoKTtcbiAgICB9XG5cbiAgICBfZ2V0VGVtcGxhdGUoKSB7XG4gICAgICAgIHJldHVybiBkb2N1bWVudFxuICAgICAgICAgICAgLnF1ZXJ5U2VsZWN0b3IodGhpcy5fY2FyZFNlbGVjdG9yKVxuICAgICAgICAgICAgLmNvbnRlbnRcbiAgICAgICAgICAgIC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudCcpXG4gICAgICAgICAgICAuY2xvbmVOb2RlKHRydWUpO1xuICAgIH1cblxuICAgIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICAgICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9fcGljdHVyZScpXG4gICAgICAgICAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVDYXJkQ2xpY2spO1xuXG4gICAgICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX3JlbW92ZScpXG4gICAgICAgICAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVSZW1vdmVCdXR0b25DbGljayk7XG5cbiAgICAgICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9fbGlrZScpXG4gICAgICAgICAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVMaWtlQnV0dG9uQ2xpY2spO1xuICAgIH1cblxuICAgIF9yZW5kZXJMaWtlcygpIHtcbiAgICAgICAgY29uc3QgaGVhcnQgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19saWtlJyk7XG4gICAgICAgIGlmICh0aGlzLmlzTGlrZWQoKSkge1xuICAgICAgICAgICAgaGVhcnQuY2xhc3NMaXN0LmFkZCgnZWxlbWVudF9fbGlrZV9hY3RpdmUnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGhlYXJ0LmNsYXNzTGlzdC5yZW1vdmUoJ2VsZW1lbnRfX2xpa2VfYWN0aXZlJyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19saWtlLWNvdW50ZXInKS50ZXh0Q29udGVudCA9IHRoaXMuX2xpa2VzLmxlbmd0aDtcbiAgICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XG4gICAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xuICAgICAgICB0aGlzLl9wb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XG4gICAgfVxuXG4gICAgb3BlbigpIHtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcbiAgICAgICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LmFkZCgncG9wdXBfb3BlbmVkJyk7XG4gICAgfVxuXG4gICAgY2xvc2UoKSB7XG4gICAgICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5yZW1vdmUoJ3BvcHVwX29wZW5lZCcpO1xuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xuICAgIH1cblxuICAgIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgICAgICB0aGlzLl9wb3B1cC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGV2dCA9PiB0aGlzLl9oYW5kbGVQb3B1cENsaWNrKGV2dCkpO1xuICAgIH1cblxuICAgIF9oYW5kbGVFc2NDbG9zZSA9IChldnQpID0+IHtcbiAgICAgICAgaWYgKGV2dC5rZXkgPT09ICdFc2NhcGUnKSB7XG4gICAgICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgX2hhbmRsZVBvcHVwQ2xpY2soZXZ0KSB7XG4gICAgICAgIGNvbnN0IGNsYXNzTGlzdCA9IGV2dC50YXJnZXQuY2xhc3NMaXN0O1xuICAgICAgICBpZiAoY2xhc3NMaXN0LmNvbnRhaW5zKCdwb3B1cCcpIHx8IGNsYXNzTGlzdC5jb250YWlucygncG9wdXBfX2Nsb3NlLWljb24nKSkge1xuICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICB9XG4gICAgfVxufSIsImltcG9ydCB7Zm9ybVNlbGVjdG9yc30gZnJvbSBcIi4uL3V0aWxzL9GBb25zdGFudHMuanNcIjtcbmltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xuICAgIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIHN1Ym1pdENhbGxiYWNrKSB7XG4gICAgICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuXG4gICAgICAgIHRoaXMuX3N1Ym1pdENhbGxiYWNrID0gc3VibWl0Q2FsbGJhY2s7XG4gICAgICAgIHRoaXMuX2Zvcm0gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKGZvcm1TZWxlY3RvcnMuZm9ybVNlbGVjdG9yKTtcbiAgICAgICAgdGhpcy5faW5wdXRGaWVsZHMgPSBBcnJheS5mcm9tKHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvckFsbChmb3JtU2VsZWN0b3JzLmlucHV0U2VsZWN0b3IpKTtcbiAgICB9XG5cbiAgICBjbG9zZSgpIHtcbiAgICAgICAgc3VwZXIuY2xvc2UoKTtcbiAgICAgICAgdGhpcy5fZm9ybS5yZXNldCgpO1xuICAgIH1cblxuICAgIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgICAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGV2dCA9PiB7XG4gICAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHRoaXMuX3N1Ym1pdENhbGxiYWNrKHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xuICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICB9KTtcblxuICAgICAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuICAgIH1cblxuICAgIHNldElucHV0VmFsdWVzKHZhbHVlcykge1xuICAgICAgICB0aGlzLl9pbnB1dEZpZWxkcy5mb3JFYWNoKGlucHV0RmlsZWQgPT4ge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSB2YWx1ZXNbaW5wdXRGaWxlZC5uYW1lXTtcbiAgICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGlucHV0RmlsZWQudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZ2V0Rm9ybSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Zvcm07XG4gICAgfVxuXG4gICAgX2dldElucHV0VmFsdWVzKCkge1xuICAgICAgICBjb25zdCB2YWx1ZXMgPSB7fTtcbiAgICAgICAgdGhpcy5faW5wdXRGaWVsZHMuZm9yRWFjaChpbnB1dEZpZWxkID0+IHZhbHVlc1tpbnB1dEZpZWxkLm5hbWVdID0gaW5wdXRGaWVsZC52YWx1ZSk7XG4gICAgICAgIHJldHVybiB2YWx1ZXM7XG4gICAgfVxufSIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcbiAgICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XG4gICAgICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuXG4gICAgICAgIHRoaXMuX3Bob3RvID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19waG90bycpO1xuICAgICAgICB0aGlzLl9uYW1lID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19uYW1lLXByZXZpZXcnKTtcbiAgICB9XG5cbiAgICBvcGVuKHtuYW1lLCBsaW5rfSkge1xuICAgICAgICB0aGlzLl9waG90by5zcmMgPSBsaW5rO1xuICAgICAgICB0aGlzLl9waG90by5hbHQgPSBuYW1lO1xuICAgICAgICB0aGlzLl9uYW1lLnRleHRDb250ZW50ID0gbmFtZTtcblxuICAgICAgICBzdXBlci5vcGVuKCk7XG4gICAgfVxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xuICAgIGNvbnN0cnVjdG9yKHJlbmRlcmVyLCBjb250YWluZXJTZWxlY3Rvcikge1xuICAgICAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgICAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKTtcbiAgICB9XG5cbiAgICByZW5kZXJJdGVtcyhpdGVtcykge1xuICAgICAgICBpdGVtcy5mb3JFYWNoKHRoaXMuX3JlbmRlcmVyKTtcbiAgICB9XG5cbiAgICBhZGRJdGVtKGVsZW1lbnQsIGFkZEZpcnN0KSB7XG4gICAgICAgIGlmIChhZGRGaXJzdCkge1xuICAgICAgICAgICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoZWxlbWVudCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9jb250YWluZXIuYXBwZW5kKGVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xuICAgIGNvbnN0cnVjdG9yKG5hbWVTZWxlY3RvciwgYWJvdXRTZWxlY3RvciwgYXZhdGFyU2VsZWN0b3IpIHtcbiAgICAgICAgdGhpcy5faWQgPSAwO1xuICAgICAgICB0aGlzLl9uYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihuYW1lU2VsZWN0b3IpO1xuICAgICAgICB0aGlzLl9hYm91dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYWJvdXRTZWxlY3Rvcik7XG4gICAgICAgIHRoaXMuX2F2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYXZhdGFyU2VsZWN0b3IpO1xuICAgIH1cblxuICAgIGdldE93bklkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faWQ7XG4gICAgfVxuXG4gICAgZ2V0VXNlckluZm8oKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBuYW1lOiB0aGlzLl9uYW1lLnRleHRDb250ZW50LFxuICAgICAgICAgICAgYWJvdXQ6IHRoaXMuX2Fib3V0LnRleHRDb250ZW50XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgc2V0VXNlckluZm8oe19pZCwgbmFtZSwgYWJvdXR9KSB7XG4gICAgICAgIHRoaXMuX2lkID0gX2lkO1xuICAgICAgICB0aGlzLl9uYW1lLnRleHRDb250ZW50ID0gbmFtZTtcbiAgICAgICAgdGhpcy5fYWJvdXQudGV4dENvbnRlbnQgPSBhYm91dDtcbiAgICB9XG5cbiAgICBnZXRBdmF0YXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hdmF0YXIuc3JjO1xuICAgIH1cblxuICAgIHNldEF2YXRhcihhdmF0YXIpIHtcbiAgICAgICAgdGhpcy5fYXZhdGFyLnNyYyA9IGF2YXRhcjtcbiAgICB9XG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XG4gICAgY29uc3RydWN0b3IodmFsaWRhdG9yU2V0dGluZ3MsIGZvcm0pIHtcbiAgICAgICAgdGhpcy5fdmFsaWRhdG9yU2V0dGluZ3MgPSB2YWxpZGF0b3JTZXR0aW5ncztcbiAgICAgICAgdGhpcy5fZm9ybSA9IGZvcm07XG4gICAgICAgIHRoaXMuX2lucHV0RmllbGRzID0gQXJyYXkuZnJvbSh0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5fdmFsaWRhdG9yU2V0dGluZ3MuaW5wdXRTZWxlY3RvcikpO1xuICAgICAgICB0aGlzLl9zdWJtaXRCdXR0b24gPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IodGhpcy5fdmFsaWRhdG9yU2V0dGluZ3Muc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xuICAgIH1cblxuICAgIGVuYWJsZVZhbGlkYXRpb24oKSB7XG4gICAgICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgfVxuXG4gICAgaW5pdFZhbGlkYXRpb25TdGF0ZSgpIHtcbiAgICAgICAgdGhpcy5faW5wdXRGaWVsZHMuZm9yRWFjaChmaWVsZCA9PiB0aGlzLl9oaWRlSW5wdXRFcnJvcihmaWVsZCkpO1xuICAgICAgICB0aGlzLl90b2dnbGVTdWJtaXRCdXR0b25TdGF0ZSgpO1xuICAgIH1cblxuICAgIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICAgICAgdGhpcy5fdG9nZ2xlU3VibWl0QnV0dG9uU3RhdGUoKTtcblxuICAgICAgICB0aGlzLl9pbnB1dEZpZWxkcy5mb3JFYWNoKGlucHV0RmllbGQgPT4ge1xuICAgICAgICAgICAgaW5wdXRGaWVsZC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRGaWVsZCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fdG9nZ2xlU3VibWl0QnV0dG9uU3RhdGUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBfdG9nZ2xlU3VibWl0QnV0dG9uU3RhdGUoKSB7XG4gICAgICAgIGlmICh0aGlzLl9hcmVBbGxJbnB1dHNWYWxpZCgpKSB7XG4gICAgICAgICAgICB0aGlzLl9zdWJtaXRCdXR0b24ucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcpO1xuICAgICAgICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ3BvcHVwX19zdWJtaXQtYnV0dG9uX2Rpc2FibGVkJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9zdWJtaXRCdXR0b24uc2V0QXR0cmlidXRlKCdkaXNhYmxlZCcsICcnKTtcbiAgICAgICAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdwb3B1cF9fc3VibWl0LWJ1dHRvbl9kaXNhYmxlZCcpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2FyZUFsbElucHV0c1ZhbGlkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faW5wdXRGaWVsZHMuZXZlcnkoZmllbGQgPT4gZmllbGQudmFsaWRpdHkudmFsaWQpO1xuICAgIH1cblxuICAgIF9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KSB7XG4gICAgICAgIGlmIChpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpIHtcbiAgICAgICAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQsIGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50LCBlcnJvck1lc3NhZ2UpIHtcbiAgICAgICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XG4gICAgICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX3ZhbGlkYXRvclNldHRpbmdzLmlucHV0RXJyb3JDbGFzcyk7XG4gICAgICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGVycm9yTWVzc2FnZTtcbiAgICB9XG5cbiAgICBfaGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KSB7XG4gICAgICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihgLiR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xuICAgICAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl92YWxpZGF0b3JTZXR0aW5ncy5pbnB1dEVycm9yQ2xhc3MpO1xuICAgICAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSAnJztcbiAgICB9XG59XG4iLCJleHBvcnQgZnVuY3Rpb24gY29udmVydFRvSnNvbihyZXN1bHQpIHtcbiAgICByZXR1cm4gcmVzdWx0Lm9rXG4gICAgICAgID8gcmVzdWx0Lmpzb24oKVxuICAgICAgICA6IFByb21pc2UucmVqZWN0KGDQntGI0LjQsdC60LA6ICR7cmVzdWx0LnN0YXR1c30sICR7cmVzdWx0LnN0YXR1c1RleHR9YCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsb2dFcnJvcihlcnJvcikge1xuICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbn1cbiIsImltcG9ydCB7Y29udmVydFRvSnNvbn0gZnJvbSBcIi4uL3V0aWxzL1Byb21pc2VVdGlscy5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBcGkge1xuICAgIGNvbnN0cnVjdG9yKHt1c2VyVXJsLCBiYXNlVXJsLCBoZWFkZXJzfSkge1xuICAgICAgICB0aGlzLl91c2VyVXJsID0gdXNlclVybDtcbiAgICAgICAgdGhpcy5fYmFzZVVybCA9IGJhc2VVcmw7XG4gICAgICAgIHRoaXMuX2hlYWRlcnMgPSBoZWFkZXJzO1xuICAgIH1cblxuICAgIGdldFVzZXJJbmZvKCkge1xuICAgICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXNlclVybH1gLCB7XG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4oY29udmVydFRvSnNvbik7XG4gICAgfVxuXG4gICAgZ2V0SW5pdGlhbENhcmRzKCkge1xuICAgICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4oY29udmVydFRvSnNvbik7XG4gICAgfVxuXG4gICAgc2F2ZUF2YXRhcihhdmF0YXJEYXRhKSB7XG4gICAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZS9hdmF0YXJgLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQQVRDSCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYXZhdGFyRGF0YSksXG4gICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbihjb252ZXJ0VG9Kc29uKTtcbiAgICB9XG5cbiAgICBzYXZlUHJvZmlsZShwcm9maWxlRGF0YSkge1xuICAgICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQQVRDSCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocHJvZmlsZURhdGEpLFxuICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4oY29udmVydFRvSnNvbik7XG4gICAgfVxuXG4gICAgYWRkQ2FyZChjYXJkRGF0YSkge1xuICAgICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShjYXJkRGF0YSksXG4gICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbihjb252ZXJ0VG9Kc29uKTtcbiAgICB9XG5cbiAgICByZW1vdmVDYXJkKGNhcmRJZCkge1xuICAgICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtjYXJkSWR9YCwge1xuICAgICAgICAgICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbihjb252ZXJ0VG9Kc29uKTtcbiAgICB9XG5cbiAgICBhZGRMaWtlKGNhcmRJZCkge1xuICAgICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtjYXJkSWR9L2xpa2VzYCwge1xuICAgICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbihjb252ZXJ0VG9Kc29uKTtcbiAgICB9XG5cbiAgICByZW1vdmVMaWtlKGNhcmRJZCkge1xuICAgICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtjYXJkSWR9L2xpa2VzYCwge1xuICAgICAgICAgICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbihjb252ZXJ0VG9Kc29uKTtcbiAgICB9XG59IiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aFN1Ym1pdCBleHRlbmRzIFBvcHVwIHtcbiAgICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICAgICAgdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19zdWJtaXQtYnV0dG9uJylcbiAgICAgICAgICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zdWJtaXRDYWxsYmFjaygpO1xuICAgICAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgfVxuXG4gICAgb3BlbihzdWJtaXRDYWxsYmFjaykge1xuICAgICAgICB0aGlzLl9zdWJtaXRDYWxsYmFjayA9IHN1Ym1pdENhbGxiYWNrO1xuICAgICAgICBzdXBlci5vcGVuKCk7XG4gICAgfVxufSIsImltcG9ydCAnLi9pbmRleC5jc3MnO1xuXG5pbXBvcnQge2Zvcm1TZWxlY3RvcnN9IGZyb20gXCIuLi9zY3JpcHRzL3V0aWxzL9GBb25zdGFudHMuanNcIjtcblxuaW1wb3J0IENhcmQgZnJvbSBcIi4uL3NjcmlwdHMvY29tcG9uZW50cy9DYXJkLmpzXCI7XG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tIFwiLi4vc2NyaXB0cy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanNcIjtcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tIFwiLi4vc2NyaXB0cy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzXCI7XG5pbXBvcnQgU2VjdGlvbiBmcm9tIFwiLi4vc2NyaXB0cy9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcbmltcG9ydCBVc2VySW5mbyBmcm9tIFwiLi4vc2NyaXB0cy9jb21wb25lbnRzL1VzZXJJbmZvLmpzXCI7XG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tIFwiLi4vc2NyaXB0cy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanNcIjtcbmltcG9ydCBBcGkgZnJvbSBcIi4uL3NjcmlwdHMvY29tcG9uZW50cy9BcGkuanNcIjtcbmltcG9ydCB7bG9nRXJyb3J9IGZyb20gXCIuLi9zY3JpcHRzL3V0aWxzL1Byb21pc2VVdGlscy5qc1wiO1xuaW1wb3J0IFBvcHVwV2l0aFN1Ym1pdCBmcm9tIFwiLi4vc2NyaXB0cy9jb21wb25lbnRzL1BvcHVwV2l0aFN1Ym1pdFwiO1xuXG5jb25zdCB1c2VySW5mbyA9IG5ldyBVc2VySW5mbyhcbiAgICAnLnByb2ZpbGUtaW5mb19fdGl0bGUnLFxuICAgICcucHJvZmlsZS1pbmZvX19zdWJ0aXRsZScsXG4gICAgJy5wcm9maWxlX19hdmF0YXItcGhvdG8nLFxuKTtcblxuY29uc3QgYXZhdGFyUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybShcbiAgICAnI2F2YXRhci1wb3B1cCcsXG4gICAgYXZhdGFyRGF0YSA9PiB7XG4gICAgICAgIGNvbnN0IGNsZWFudXAgPSBpbml0aWFsaXplU2F2aW5nUHJvZ3Jlc3MoYXZhdGFyUG9wdXAuZ2V0Rm9ybSgpKTtcbiAgICAgICAgYXBpLnNhdmVBdmF0YXIoYXZhdGFyRGF0YSlcbiAgICAgICAgICAgIC50aGVuKHJlcyA9PiB1c2VySW5mby5zZXRBdmF0YXIocmVzLmF2YXRhcikpXG4gICAgICAgICAgICAuY2F0Y2gobG9nRXJyb3IpXG4gICAgICAgICAgICAuZmluYWxseShjbGVhbnVwKTtcbiAgICB9LFxuKTtcblxuYXZhdGFyUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuY29uc3QgYXZhdGFyRm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKGZvcm1TZWxlY3RvcnMsIGF2YXRhclBvcHVwLmdldEZvcm0oKSk7XG5hdmF0YXJGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcblxuY29uc3QgYXZhdGFyQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2F2YXRhci1idXR0b24nKTtcbmF2YXRhckJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBhdmF0YXJQb3B1cC5zZXRJbnB1dFZhbHVlcyh7XG4gICAgICAgIGF2YXRhcjogdXNlckluZm8uZ2V0QXZhdGFyKCksXG4gICAgfSk7XG4gICAgYXZhdGFyRm9ybVZhbGlkYXRvci5pbml0VmFsaWRhdGlvblN0YXRlKCk7XG4gICAgYXZhdGFyUG9wdXAub3BlbigpO1xufSk7XG5cbmNvbnN0IHByb2ZpbGVQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKFxuICAgICcjcHJvZmlsZS1wb3B1cCcsXG4gICAgcHJvZmlsZURhdGEgPT4ge1xuICAgICAgICBjb25zdCBjbGVhbnVwID0gaW5pdGlhbGl6ZVNhdmluZ1Byb2dyZXNzKHByb2ZpbGVQb3B1cC5nZXRGb3JtKCkpO1xuICAgICAgICBhcGkuc2F2ZVByb2ZpbGUocHJvZmlsZURhdGEpXG4gICAgICAgICAgICAudGhlbihyZXMgPT4gdXNlckluZm8uc2V0VXNlckluZm8ocmVzKSlcbiAgICAgICAgICAgIC5jYXRjaChsb2dFcnJvcilcbiAgICAgICAgICAgIC5maW5hbGx5KGNsZWFudXApO1xuICAgIH0sXG4pO1xuXG5wcm9maWxlUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuY29uc3QgcHJvZmlsZUZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihmb3JtU2VsZWN0b3JzLCBwcm9maWxlUG9wdXAuZ2V0Rm9ybSgpKTtcbnByb2ZpbGVGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcblxuY29uc3QgcGVuQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGUtaW5mb19fZWRpdC1idXR0b24nKTtcbnBlbkJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBwcm9maWxlUG9wdXAuc2V0SW5wdXRWYWx1ZXModXNlckluZm8uZ2V0VXNlckluZm8oKSk7XG4gICAgcHJvZmlsZUZvcm1WYWxpZGF0b3IuaW5pdFZhbGlkYXRpb25TdGF0ZSgpO1xuICAgIHByb2ZpbGVQb3B1cC5vcGVuKCk7XG59KTtcblxuY29uc3QgbmV3UGxhY2VQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKFxuICAgICcjbmV3LXBsYWNlLXBvcHVwJyxcbiAgICBjYXJkRGF0YSA9PiB7XG4gICAgICAgIGNvbnN0IGNsZWFudXAgPSBpbml0aWFsaXplU2F2aW5nUHJvZ3Jlc3MobmV3UGxhY2VQb3B1cC5nZXRGb3JtKCkpO1xuICAgICAgICBhcGkuYWRkQ2FyZChjYXJkRGF0YSlcbiAgICAgICAgICAgIC50aGVuKHJlcyA9PiBzZWN0aW9uLmFkZEl0ZW0obWFrZUNhcmQocmVzKSwgdHJ1ZSkpXG4gICAgICAgICAgICAuY2F0Y2gobG9nRXJyb3IpXG4gICAgICAgICAgICAuZmluYWxseShjbGVhbnVwKTtcbiAgICB9LFxuKTtcblxubmV3UGxhY2VQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xuXG5jb25zdCBuZXdQbGFjZUZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihmb3JtU2VsZWN0b3JzLCBuZXdQbGFjZVBvcHVwLmdldEZvcm0oKSk7XG5uZXdQbGFjZUZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xuXG5jb25zdCBuZXdQbGFjZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19hZGQtYnV0dG9uJyk7XG5uZXdQbGFjZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBuZXdQbGFjZUZvcm1WYWxpZGF0b3IuaW5pdFZhbGlkYXRpb25TdGF0ZSgpO1xuICAgIG5ld1BsYWNlUG9wdXAub3BlbigpO1xufSk7XG5cbmNvbnN0IHN1Ym1pdFBvcHVwID0gbmV3IFBvcHVwV2l0aFN1Ym1pdCgnI3JlbW92ZS1jYXJkLXBvcHVwJyk7XG5zdWJtaXRQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xuXG5jb25zdCBwcmV2aWV3UG9wdXAgPSBuZXcgUG9wdXBXaXRoSW1hZ2UoJyNwcmV2aWV3LXBvcHVwJyk7XG5wcmV2aWV3UG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuY29uc3Qgc2VjdGlvbiA9IG5ldyBTZWN0aW9uKFxuICAgIGNhcmREYXRhID0+IHNlY3Rpb24uYWRkSXRlbShtYWtlQ2FyZChjYXJkRGF0YSksIGZhbHNlKSxcbiAgICAnLmVsZW1lbnRzJyxcbik7XG5cbmNvbnN0IGFwaSA9IG5ldyBBcGkoe1xuICAgIHVzZXJVcmw6ICdodHRwczovL25vbW9yZXBhcnRpZXMuY28vdjEvY29ob3J0LTQxL3VzZXJzL21lJyxcbiAgICBiYXNlVXJsOiAnaHR0cHM6Ly9tZXN0by5ub21vcmVwYXJ0aWVzLmNvL3YxL2NvaG9ydC00MScsXG4gICAgaGVhZGVyczoge1xuICAgICAgICBhdXRob3JpemF0aW9uOiAnOWQ5N2M2M2ItMzM0ZS00MWIxLWFkMWQtZjhlNDYwZGQ5ZWM2JyxcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICB9XG59KTtcblxuYXBpLmdldFVzZXJJbmZvKClcbiAgICAudGhlbihyZXMgPT4ge1xuICAgICAgICB1c2VySW5mby5zZXRBdmF0YXIocmVzLmF2YXRhcik7XG4gICAgICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKHJlcyk7XG4gICAgfSlcbiAgICAuY2F0Y2gobG9nRXJyb3IpO1xuXG5hcGkuZ2V0SW5pdGlhbENhcmRzKClcbiAgICAudGhlbihyZXN1bHQgPT4gc2VjdGlvbi5yZW5kZXJJdGVtcyhyZXN1bHQpKVxuICAgIC5jYXRjaChsb2dFcnJvcik7XG5cbmZ1bmN0aW9uIG1ha2VDYXJkKGNhcmREYXRhKSB7XG4gICAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKFxuICAgICAgICB1c2VySW5mby5nZXRPd25JZCgpLFxuICAgICAgICBjYXJkRGF0YSxcbiAgICAgICAgJyNlbGVtZW50LXRlbXBsYXRlJyxcbiAgICAgICAgKCkgPT4gcHJldmlld1BvcHVwLm9wZW4oY2FyZERhdGEpLFxuICAgICAgICAoKSA9PiBzdWJtaXRQb3B1cC5vcGVuKCgpID0+IHtcbiAgICAgICAgICAgIGFwaS5yZW1vdmVDYXJkKGNhcmQuZ2V0Q2FyZElkKCkpXG4gICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4gY2FyZC5yZW1vdmVDYXJkKCkpXG4gICAgICAgICAgICAgICAgLmNhdGNoKGxvZ0Vycm9yKTtcbiAgICAgICAgfSksXG4gICAgICAgICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxpa2VQcm9taXNlID0gY2FyZC5pc0xpa2VkKClcbiAgICAgICAgICAgICAgICA/IGFwaS5yZW1vdmVMaWtlKGNhcmQuZ2V0Q2FyZElkKCkpXG4gICAgICAgICAgICAgICAgOiBhcGkuYWRkTGlrZShjYXJkLmdldENhcmRJZCgpKTtcblxuICAgICAgICAgICAgbGlrZVByb21pc2VcbiAgICAgICAgICAgICAgICAudGhlbihyZXMgPT4gY2FyZC51cGRhdGVMaWtlcyhyZXMpKVxuICAgICAgICAgICAgICAgIC5jYXRjaChsb2dFcnJvcik7XG4gICAgICAgIH0sXG4gICAgKTtcbiAgICByZXR1cm4gY2FyZC5nZW5lcmF0ZUNhcmQoKTtcbn1cblxuZnVuY3Rpb24gaW5pdGlhbGl6ZVNhdmluZ1Byb2dyZXNzKGZvcm0pIHtcbiAgICBjb25zdCBzdWJtaXRCdXR0b24gPSBmb3JtLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fc3VibWl0LWJ1dHRvbicpO1xuICAgIGNvbnN0IHByZXZpb3VzQ29udGVudCA9IHN1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudDtcbiAgICBzdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSAn0KHQvtGF0YDQsNC90LXQvdC40LUuLi4nO1xuICAgIHJldHVybiAoKSA9PiBzdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSBwcmV2aW91c0NvbnRlbnQ7XG59Il0sIm5hbWVzIjpbImZvcm1TZWxlY3RvcnMiLCJmb3JtU2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJpbnB1dEVycm9yQ2xhc3MiLCJDYXJkIiwib3duSWQiLCJjYXJkU2VsZWN0b3IiLCJoYW5kbGVDYXJkQ2xpY2siLCJoYW5kbGVSZW1vdmVCdXR0b25DbGljayIsImhhbmRsZUxpa2VCdXR0b25DbGljayIsIl9pZCIsIm5hbWUiLCJsaW5rIiwib3duZXIiLCJsaWtlcyIsInRoaXMiLCJfb3duSWQiLCJfbmFtZSIsIl9saW5rIiwiX293bmVySWQiLCJfbGlrZXMiLCJfY2FyZFNlbGVjdG9yIiwiX2hhbmRsZUNhcmRDbGljayIsIl9oYW5kbGVSZW1vdmVCdXR0b25DbGljayIsIl9oYW5kbGVMaWtlQnV0dG9uQ2xpY2siLCJfZWxlbWVudCIsIl9nZXRUZW1wbGF0ZSIsIl9zZXRFdmVudExpc3RlbmVycyIsInF1ZXJ5U2VsZWN0b3IiLCJ0ZXh0Q29udGVudCIsInBpY3R1cmUiLCJhbHQiLCJzcmMiLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJfcmVuZGVyTGlrZXMiLCJmaW5kIiwibGlrZSIsImRvY3VtZW50IiwiY29udGVudCIsImNsb25lTm9kZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJoZWFydCIsImlzTGlrZWQiLCJhZGQiLCJsZW5ndGgiLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJldnQiLCJrZXkiLCJjbG9zZSIsIl9wb3B1cCIsIl9oYW5kbGVFc2NDbG9zZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJfaGFuZGxlUG9wdXBDbGljayIsInRhcmdldCIsImNvbnRhaW5zIiwiUG9wdXBXaXRoRm9ybSIsInN1Ym1pdENhbGxiYWNrIiwiX3N1Ym1pdENhbGxiYWNrIiwiX2Zvcm0iLCJfaW5wdXRGaWVsZHMiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwicmVzZXQiLCJwcmV2ZW50RGVmYXVsdCIsIl9nZXRJbnB1dFZhbHVlcyIsInZhbHVlcyIsImZvckVhY2giLCJpbnB1dEZpbGVkIiwidmFsdWUiLCJpbnB1dEZpZWxkIiwiUG9wdXBXaXRoSW1hZ2UiLCJfcGhvdG8iLCJTZWN0aW9uIiwicmVuZGVyZXIiLCJjb250YWluZXJTZWxlY3RvciIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJpdGVtcyIsImVsZW1lbnQiLCJhZGRGaXJzdCIsInByZXBlbmQiLCJhcHBlbmQiLCJVc2VySW5mbyIsIm5hbWVTZWxlY3RvciIsImFib3V0U2VsZWN0b3IiLCJhdmF0YXJTZWxlY3RvciIsIl9hYm91dCIsIl9hdmF0YXIiLCJhYm91dCIsImF2YXRhciIsIkZvcm1WYWxpZGF0b3IiLCJ2YWxpZGF0b3JTZXR0aW5ncyIsImZvcm0iLCJfdmFsaWRhdG9yU2V0dGluZ3MiLCJfc3VibWl0QnV0dG9uIiwiZmllbGQiLCJfaGlkZUlucHV0RXJyb3IiLCJfdG9nZ2xlU3VibWl0QnV0dG9uU3RhdGUiLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwiX2FyZUFsbElucHV0c1ZhbGlkIiwicmVtb3ZlQXR0cmlidXRlIiwic2V0QXR0cmlidXRlIiwiZXZlcnkiLCJ2YWxpZGl0eSIsInZhbGlkIiwiaW5wdXRFbGVtZW50IiwiX3Nob3dJbnB1dEVycm9yIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJlcnJvck1lc3NhZ2UiLCJlcnJvckVsZW1lbnQiLCJpZCIsImNvbnZlcnRUb0pzb24iLCJyZXN1bHQiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwic3RhdHVzVGV4dCIsImxvZ0Vycm9yIiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIiwiQXBpIiwidXNlclVybCIsImJhc2VVcmwiLCJoZWFkZXJzIiwiX3VzZXJVcmwiLCJfYmFzZVVybCIsIl9oZWFkZXJzIiwiZmV0Y2giLCJ0aGVuIiwiYXZhdGFyRGF0YSIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwicHJvZmlsZURhdGEiLCJjYXJkRGF0YSIsImNhcmRJZCIsIlBvcHVwV2l0aFN1Ym1pdCIsInVzZXJJbmZvIiwiYXZhdGFyUG9wdXAiLCJjbGVhbnVwIiwiaW5pdGlhbGl6ZVNhdmluZ1Byb2dyZXNzIiwiZ2V0Rm9ybSIsImFwaSIsInNhdmVBdmF0YXIiLCJyZXMiLCJzZXRBdmF0YXIiLCJjYXRjaCIsImZpbmFsbHkiLCJzZXRFdmVudExpc3RlbmVycyIsImF2YXRhckZvcm1WYWxpZGF0b3IiLCJlbmFibGVWYWxpZGF0aW9uIiwic2V0SW5wdXRWYWx1ZXMiLCJnZXRBdmF0YXIiLCJpbml0VmFsaWRhdGlvblN0YXRlIiwib3BlbiIsInByb2ZpbGVQb3B1cCIsInNhdmVQcm9maWxlIiwic2V0VXNlckluZm8iLCJwcm9maWxlRm9ybVZhbGlkYXRvciIsImdldFVzZXJJbmZvIiwibmV3UGxhY2VQb3B1cCIsImFkZENhcmQiLCJzZWN0aW9uIiwiYWRkSXRlbSIsIm1ha2VDYXJkIiwibmV3UGxhY2VGb3JtVmFsaWRhdG9yIiwic3VibWl0UG9wdXAiLCJwcmV2aWV3UG9wdXAiLCJhdXRob3JpemF0aW9uIiwiY2FyZCIsImdldE93bklkIiwicmVtb3ZlQ2FyZCIsImdldENhcmRJZCIsInJlbW92ZUxpa2UiLCJhZGRMaWtlIiwidXBkYXRlTGlrZXMiLCJnZW5lcmF0ZUNhcmQiLCJzdWJtaXRCdXR0b24iLCJwcmV2aW91c0NvbnRlbnQiLCJnZXRJbml0aWFsQ2FyZHMiLCJyZW5kZXJJdGVtcyJdLCJzb3VyY2VSb290IjoiIn0=